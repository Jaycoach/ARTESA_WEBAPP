{"attemptCount":1,"level":"warn","mail":"jaycaoach@hotmail.com","message":"Incremento de intentos de login","timestamp":"2025-02-23T19:50:18.934Z"}
{"error":"el valor nulo en la columna «user_id» de la relación «login_history» viola la restricción de no nulo","level":"error","message":"Error al registrar intento de login","stack":"error: el valor nulo en la columna «user_id» de la relación «login_history» viola la restricción de no nulo\n    at C:\\Users\\jayco\\OneDrive\\CLIENTES\\MASORG\\Desarrollo\\LaArtesa\\node_modules\\pg-pool\\index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AuthController.logLoginAttempt (C:\\Users\\jayco\\OneDrive\\CLIENTES\\MASORG\\Desarrollo\\LaArtesa\\src\\controllers\\authController.js:62:13)\n    at async AuthController.login (C:\\Users\\jayco\\OneDrive\\CLIENTES\\MASORG\\Desarrollo\\LaArtesa\\src\\controllers\\authController.js:190:17)","timestamp":"2025-02-23T19:50:18.987Z"}
{"attemptCount":1,"level":"warn","mail":"jaycoach@hotmail.com","message":"Incremento de intentos de login","timestamp":"2025-02-23T19:50:32.615Z"}
{"level":"debug","message":"Resultado de comparación de contraseña para jaycoach@hotmail.com: true","timestamp":"2025-02-23T19:50:32.724Z"}
{"level":"info","mail":"jaycoach@hotmail.com","message":"Token generado exitosamente","timestamp":"2025-02-23T19:50:32.728Z","userId":1}
{"attempt_details":null,"ip_address":"::1","level":"info","message":"Inicio de sesión exitoso","status":"success","timestamp":"2025-02-23T19:50:32.728Z","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/132.0.0.0 Safari/537.36 AVG/132.0.0.0","user_id":1}
{"attemptCount":1,"level":"warn","mail":"jaycoach@hotmail.com","message":"Incremento de intentos de login","timestamp":"2025-02-23T20:50:02.901Z"}
{"level":"debug","message":"Resultado de comparación de contraseña para jaycoach@hotmail.com: true","timestamp":"2025-02-23T20:50:03.126Z"}
{"level":"info","mail":"jaycoach@hotmail.com","message":"Token generado exitosamente","timestamp":"2025-02-23T20:50:03.130Z","userId":1}
{"attempt_details":null,"ip_address":"::1","level":"info","message":"Inicio de sesión exitoso","status":"success","timestamp":"2025-02-23T20:50:03.131Z","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/132.0.0.0 Safari/537.36 AVG/132.0.0.0","user_id":1}
{"level":"debug","message":"Mail recibido:","timestamp":"2025-02-23T20:51:10.434Z"}
{"level":"debug","mail":"jaycoach@hotmail.com","message":"Usuario encontrado:","timestamp":"2025-02-23T20:51:10.466Z","user_id":1}
{"level":"debug","message":"Token generado:","timestamp":"2025-02-23T20:51:10.466Z"}
{"level":"info","message":"Token generado para pruebas:","timestamp":"2025-02-23T20:51:10.473Z"}
{"level":"info","message":"Conexión SMTP verificada exitosamente","timestamp":"2025-02-23T20:58:45.546Z"}
{"level":"info","message":"Conexión SMTP verificada exitosamente","timestamp":"2025-02-23T21:01:53.994Z"}
{"level":"debug","message":"Mail recibido:","timestamp":"2025-02-23T21:03:18.043Z"}
{"level":"debug","mail":"mohernand@estoyhot.com","message":"Usuario encontrado:","timestamp":"2025-02-23T21:03:18.090Z","user_id":3}
{"level":"debug","message":"Token generado:","timestamp":"2025-02-23T21:03:18.091Z"}
{"level":"info","message":"Token generado para pruebas:","timestamp":"2025-02-23T21:03:18.100Z"}
{"level":"info","message":"Conexión SMTP verificada exitosamente","timestamp":"2025-02-23T21:14:13.496Z"}
{"level":"debug","message":"Mail recibido:","timestamp":"2025-02-23T21:14:48.449Z"}
{"level":"debug","mail":"mohernand@estoyhot.com","message":"Usuario encontrado:","timestamp":"2025-02-23T21:14:48.496Z","user_id":3}
{"level":"debug","message":"Token generado:","timestamp":"2025-02-23T21:14:48.496Z"}
{"level":"info","message":"Intentando enviar correo de recuperación","resetUrl":"http://localhost:5173/reset-password/9436d41c161845a5638f0dea18b15a816a54a7c250be174a9eb2263609b5b0e0","timestamp":"2025-02-23T21:14:48.513Z","to":"mohernand@estoyhot.com"}
{"level":"info","message":"Correo enviado exitosamente","messageId":"<e416cae6-35b0-c653-0764-3c9a9a2ee487@laartesa.com>","response":"250 2.0.0 Ok: queued","timestamp":"2025-02-23T21:14:50.918Z"}
{"level":"info","mail":"mohernand@estoyhot.com","message":"Correo de recuperación enviado","timestamp":"2025-02-23T21:14:50.919Z"}
{"level":"info","message":"Token generado para pruebas:","timestamp":"2025-02-23T21:14:50.919Z"}
{"hashLength":60,"hashStart":"$2b$10$","level":"debug","message":"Verificación de hash generado","passwordLength":22,"timestamp":"2025-02-23T21:16:46.981Z"}
{"level":"debug","message":"Verificación de hash exitosa","timestamp":"2025-02-23T21:16:47.031Z"}
{"level":"info","message":"Contraseña actualizada exitosamente","timestamp":"2025-02-23T21:16:47.035Z","updatedAt":"2025-02-23T21:16:47.036Z","userId":3}
{"level":"info","message":"Reset de contraseña completado","timestamp":"2025-02-23T21:16:47.087Z","userId":3,"verificationSuccess":true}
{"attemptCount":1,"level":"warn","mail":"mohernand@estoyhot.com","message":"Incremento de intentos de login","timestamp":"2025-02-23T21:17:17.107Z"}
{"level":"debug","message":"Resultado de comparación de contraseña para mohernand@estoyhot.com: true","timestamp":"2025-02-23T21:17:17.192Z"}
{"level":"info","mail":"mohernand@estoyhot.com","message":"Token generado exitosamente","timestamp":"2025-02-23T21:17:17.195Z","userId":3}
{"attempt_details":null,"ip_address":"::1","level":"info","message":"Inicio de sesión exitoso","status":"success","timestamp":"2025-02-23T21:17:17.196Z","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/132.0.0.0 Safari/537.36 AVG/132.0.0.0","user_id":3}
